slug: ground-control-first-stack
ordering: 1
metadata:
  title: "Ground Control - Create Your First Stack"
  description: "Connect your code repository to Spacelift and launch your first infrastructure deployment"
  labels: ["getting-started", "first-stack", "vcs", "basics"]
  difficulty: "easy"
  minutesToComplete: 20
  prerequisites:
    - "You should have a GitHub, GitLab, Bitbucket, or Azure DevOps account."

steps:
  - order: 1
    title: "Connect Your VCS Provider"
    instruction: |
      1. Navigate to [Integrate services > Integrations](/integrations).
      2. Filter by your version control system (GitHub, GitLab, Bitbucket, or Azure DevOps) and click **View**.
      3. Click **Set up [your vcs type]** and follow the authorization prompts to connect your account to Spacelift.
    hint: "Spacelift needs access to your repositories to track infrastructure changes. Don't worry - you can control which repositories Spacelift can see during the authorization process."

  - order: 2
    title: "Create a Test Repository"
    instruction: |
      1. In your connected VCS provider, create a new repository called '${main_stack_name}'.
      2. Create a file named **main.tf** in the root with this simple Terraform code:
      ```language-hcl
      resource "random_pet" "orbit_mascot" {
        length = 2
      }
      ```
      3. Commit and push this file to the main/master branch.
    hint: "This simple Terraform configuration creates a random pet name - perfect for testing! The random_pet resource doesn't require any cloud credentials, making it ideal for your first run."

  - order: 3
    title: "Create Your First Stack"
    instruction: |
      1. Go to [Ship Infra > Stacks](/stacks) and click **Create stack**.
      2. Fill in the stack creation wizard: Name: '${main_stack_name}', Space: 'root', Description: 'My first Spacelift stack', Label: 'demo'. Click **Continue**.
      3. Select your VCS integration, choose your repository (${main_stack_name}), Branch: 'main' or 'master'. Click **Continue**.
      4. Workflow tool: **OpenTofu**, choose the latest version from the list. Click **Create & Continue**.
      5. Click **Skip to summary**.
      6. Review the summary and click **Confirm**. You will be automatically redirected to your new stack.
    hint: "The stack creation wizard guides you through three main sections: Basic info, VCS connection, and Backend configuration. Take your time to fill in each section - you can always edit these settings later. Spacelift managing your state is much safer than storing it locally!"
    validationHint: "You can proceed to the next step once your stack is created and visible in Spacelift."
    validation: |
      package spacelift

      main_stack := stack if {
        some stack in input.stacks
        stack.name == input.expectations.main_stack_name
      }

      valid if {
        main_stack
      }

  - order: 4
    title: "Trigger Your First Run"
    instruction: |
      1. Navigate to your newly created stack (${main_stack_name}).
      2. Click the **Trigger** button in the top right corner.
      3. Optionally add a note like 'First mission launch!' and click **Trigger**.
      4. Watch as Spacelift initializes your workspace and begins the planning phase.
    hint: "A run goes through several phases: INITIALIZING → PLANNING → UNCONFIRMED (waiting for your approval) → APPLYING → FINISHED. Don't worry, you'll have a chance to review everything before any changes are made!"
    validationHint: "Before moving on, make sure you've triggered a run on your stack."
    validation: |
      package spacelift

      main_stack := stack if {
        some stack in input.stacks
        stack.name == input.expectations.main_stack_name
      }

      tracked_runs contains run if {
        some run in input.runs
        run.stack_id == main_stack.id
        run.type == "TRACKED"
      }

      valid if {
        count(tracked_runs) > 0
      }

  - order: 5
    title: "Review and Confirm the Plan"
    instruction: "After the planning phase completes, the run will enter UNCONFIRMED state. Review the plan output carefully - you should see that Terraform wants to create 1 resource (the random_pet.orbit_mascot). The plan shows exactly what will be created with a green '+' symbol. Since everything looks good, click the **Confirm** button to proceed with applying the changes."
    hint: "Always review the plan carefully before confirming! This is your safety checkpoint. In this case, we're just creating a harmless random pet name (no real infrastructure or costs), so it's completely safe. The green '+' means 'create', '~' means 'modify', and '-' means 'delete'."

  - order: 6
    title: "Watch Your First Deployment Complete"
    instruction: "Observe the APPLYING phase as Spacelift executes your Terraform code. You'll see real-time logs showing Terraform creating your random_pet resource. When it completes successfully, the run state will change to 'FINISHED' with a green checkmark. Click on the **Changes** section of the run details to see your randomly generated pet name!"
    hint: "Congratulations! You've just completed your first Spacelift deployment. This is 'mission control' in action - your code went from repository to deployed infrastructure with full visibility, audit trail, and control. The random pet name you see (something like 'happy-dolphin' or 'brave-tiger') is your first resource managed by Spacelift!"

completion:
  successMessage: "Congratulations! You've created your first stack, triggered a run, and completed your first deployment. You now understand the basics of how Spacelift manages infrastructure deployments from code to deployed resources."
  recommendedGuideIds: ["credentials-not-secrets"]
